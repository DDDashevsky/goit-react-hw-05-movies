{"version":3,"file":"static/js/375.840bdccc.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","components/MovieDetails/MovieDetails.styled.js","components/MovieDetails/MovieDetails.jsx","components/imageValidation.js","components/serviseAPI/fetchMoviesAPI.jsx"],"sourcesContent":["import { Grid } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <Grid color=\"#102fdfdd\" height={100} width={100} wrapperClass=\"Loader\" />\n  );\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  padding-top: 20px;\n`;\n\nexport const Poster = styled.img`\n  border-radius: 10px;\n  width: 270px;\n  height: 400px;\n`;\n\nexport const Button = styled(Link)`\n  display: flex;\n  margin: 0 auto;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n  margin-bottom: 10px;\n  width: 120px;\n  height: 40px;\n  border: none;\n  border-radius: 5px;\n  color: grey;\n  background-color: lightgrey;\n  &:hover,\n  &:focus {\n    background-color: lightgreen;\n  }\n`;\n\nexport const Text = styled.p``;\n\nexport const ButtonWrapper = styled.div`\n  display: flex;\n  width: 100% - 10px;\n  padding: 10px;\n  border-radius: 10px;\n  align-items: center;\n  justify-content: center;\n  gap: 40px;\n`;\n\nexport const TextContainer = styled.div`\n  text-align: center;\n  padding: 10px;\n  border-radius: 10px;\n  width: 100%;\n`;\n\nexport const FilmWrapper = styled.div`\n  display: flex;\n  gap: 40px;\n`;\n\nexport const BackBtn = styled(Link)`\n  text-decoration: none;\n  padding: 5px;\n  border-radius: 5px;\n  border: 2px solid black;\n  display: block;\n  width: 80px;\n  margin-bottom: 20px;\n  text-align: center;\n`;\n","import { Outlet, useParams, useLocation } from 'react-router-dom';\nimport { Suspense, useRef } from 'react';\nimport { Loader } from 'components/Loader/Loader';\nimport {\n  Container,\n  Button,\n  Poster,\n  Text,\n  ButtonWrapper,\n  TextContainer,\n  FilmWrapper,\n  BackBtn,\n} from './MovieDetails.styled';\nimport { useEffect, useState } from 'react';\nimport { fetchMovieDetailsInfo } from 'components/serviseAPI/fetchMoviesAPI';\nimport imageValidation from 'components/imageValidation';\n\nconst MovieDetails = () => {\n  const { id } = useParams();\n  const [film, setFilm] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    const fetchMovieId = async () => {\n      const results = await fetchMovieDetailsInfo(id, {\n        signal: abortController.signal,\n      });\n\n      if (film !== null) return;\n      if (results) setFilm(results);\n      setStatus('loaded');\n    };\n    fetchMovieId();\n    return () => {\n      abortController.abort();\n    };\n  }, [film, id]);\n\n  return (\n    <Container>\n      <BackBtn to={backLinkLocationRef.current}>Go back</BackBtn>\n      {status === 'idle' && <Loader />}\n      {film !== null && (\n        <>\n          <FilmWrapper>\n            <Poster src={imageValidation(film.poster_path, 300)} />\n            <TextContainer>\n              <h1>{film.original_title}</h1>\n              <p>User Score: {Math.trunc(film.vote_average * 10)}%</p>\n              <h2>Overview</h2>\n              <p>{film.overview}</p>\n              <h3>Genres</h3>\n              <p>{film.genres.map(el => el.name).join(' | ')}</p>\n            </TextContainer>\n          </FilmWrapper>\n          <Text></Text>\n          <ButtonWrapper>\n            <Button to={'cast'}>Cast</Button>\n            <Button to={'reviews'}>Reviews</Button>\n          </ButtonWrapper>\n        </>\n      )}\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </Container>\n  );\n};\n\nexport default MovieDetails;\n","export default function imageValidation(value, width) {\n  if (value === null)\n    return 'https://media.istockphoto.com/id/1357365823/vector/default-image-icon-vector-missing-picture-page-for-website-design-or-mobile-app-no-photo.jpg?s=612x612&w=0&k=20&c=PM_optEhHBTZkuJQLlCjLz-v3zzxp-1mpNQZsdjrbns=';\n  return `https://image.tmdb.org/t/p/w${width}/${value}`;\n}\n","import axios from 'axios';\nconst KEY = 'f5b8fda00d2f47b0eff33be89e14dda0';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingMovies = async (page, abortController) => {\n  try {\n    const response = await axios.get(\n      `trending/movie/day?api_key=${KEY}&page=${page}`,\n      abortController\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMoviesByKeyword = async (query, page, abortSettings) => {\n  try {\n    const response = await axios.get(\n      `search/movie?api_key=${KEY}&language=en-US&query=${query}&page=${page}&include_adult=false`,\n      abortSettings\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieDetailsInfo = async (movieId, abortSettings) => {\n  try {\n    const response = await axios.get(\n      `movie/${movieId}?api_key=${KEY}&language=en-US`,\n      abortSettings\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieActorDetails = async (movieId, abortSettings) => {\n  try {\n    const response = await axios.get(\n      `\nmovie/${movieId}/credits?api_key=${KEY}&language=en-US`,\n      abortSettings\n    );\n    return response.data.cast;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieReviews = async (movieId, abortController) => {\n  try {\n    const response = await axios.get(\n      `movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`,\n      abortController\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n"],"names":["Loader","color","height","width","wrapperClass","Container","styled","Poster","Button","Link","Text","ButtonWrapper","TextContainer","FilmWrapper","BackBtn","id","useParams","useState","film","setFilm","status","setStatus","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","abortController","AbortController","fetchMovieId","fetchMovieDetailsInfo","signal","results","abort","to","current","src","imageValidation","poster_path","original_title","Math","trunc","vote_average","overview","genres","map","el","name","join","Suspense","value","KEY","axios","fetchTrendingMovies","page","response","data","console","log","fetchMoviesByKeyword","query","abortSettings","movieId","fetchMovieActorDetails","cast","fetchMovieReviews"],"sourceRoot":""}